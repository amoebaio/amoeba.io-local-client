<!DOCTYPE html>
<html>

<head>
    <title>Browser Amoeba test</title>
    <meta charset="utf-8">

    <link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-1.17.1.css">

    <script type="text/javascript" src="node_modules/amoeba.io/build/amoeba.io.min.js"></script>
    <script type="text/javascript" src="build/amoeba.io-local-client.min.js"></script>
    <script type="text/javascript">
    Auth = function() {

    };

    Auth.prototype.method1 = function(callback) {
        tester = 1;
        if (callback) {
            assert.ok(false);
        }
    };

    Auth.prototype.method2 = function(callback) {
        callback(null, "ok");
    };

    Auth.prototype.method3 = function(param, callback) {
        tester = param.set;
        if (callback) {
            assert.ok(false);
        }
    };
    Auth.prototype.method4 = function(param1, param2, param3, callback) {
        tester = param1 + param2 + param3;
        if (callback) {
            assert.ok(false);
        }
    };
    Auth.prototype.method5 = function(param, callback) {
        callback(null, param.set);
    };
    Auth.prototype.method6 = function(param1, param2, param3, callback) {
        callback(null, param1 + param2 + param3);
    };

    Auth.prototype.scopeTest = function(data, callback) {
        this.login(data, callback);
    };

    Auth.prototype.login = function(data, callback) {
        if (data.login == "admin" && data.password == "admin") {
            callback(null, {
                "res": "login ok"
            });
        } else {
            callback({
                "res": "login fail"
            }, null);
        }
    };
    var amoeba = new Amoeba();
    amoeba.use("auth", new LocalClient(new Auth()));
    </script>


</head>

<body>
    <div id="qunit"></div>
    <div id="qunit-fixture"></div>
    <script src="http://code.jquery.com/qunit/qunit-1.17.1.js"></script>
    <script src="test.js"></script>
</body>

</html>
